{"remainingRequest":"E:\\WebstormProjects\\server\\views\\node_modules\\babel-loader\\lib\\index.js!E:\\WebstormProjects\\server\\views\\src\\util\\http\\axios.js","dependencies":[{"path":"E:\\WebstormProjects\\server\\views\\src\\util\\http\\axios.js","mtime":1577154491966},{"path":"E:\\WebstormProjects\\server\\views\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"E:\\WebstormProjects\\server\\views\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IGF4aW9zIGZyb20gJ2F4aW9zJzsKaW1wb3J0IHJvdXRlciBmcm9tICIuLi8uLi9yb3V0ZXIiOyAvL+aJgOacieivt+axgueahOaQuuW4pueahOWPguaVsOiuvue9rgoKdmFyIGh0dHAgPSBheGlvcy5jcmVhdGUoewogIGJhc2VVUkw6ICdodHRwOi8vbG9jYWxob3N0OjMwMDAnLAogIC8v5rWL6K+V5pyNCiAgdGltZW91dDogMjAwMAp9KTsgLy/orr7nva7mi6bmiKrlmagKCmh0dHAuaW50ZXJjZXB0b3JzLnJlcXVlc3QudXNlKGZ1bmN0aW9uIChjb25maWcpIHsKICBjb25maWcuaGVhZGVycyA9IHsKICAgICdjb250ZW50LXR5cGUnOiAnYXBwbGljYXRpb24vanNvbicKICB9OwogIGNvbmZpZy5oZWFkZXJzLkF1dGhvcml6YXRpb24gPSBzZXNzaW9uU3RvcmFnZS5nZXRJdGVtKCd0b2tlbicpOwogIHJldHVybiBjb25maWc7Cn0sIGZ1bmN0aW9uIChlcnIpIHsKICByZXR1cm4gZXJyOwp9KTsKaHR0cC5pbnRlcmNlcHRvcnMucmVzcG9uc2UudXNlKGZ1bmN0aW9uIChyZXMpIHsKICBpZiAocmVzLmRhdGEuY29kZSA9PT0gMCkgewogICAgcm91dGVyLnB1c2goJy9sb2dpbicpOwogIH0KCiAgcmV0dXJuIHJlczsKfSwgZnVuY3Rpb24gKGVycikgewogIC8v5a+55ZON5bqU5pWw5o2uZXJyb3LlpITnkIYKICByZXR1cm4gZXJyOwp9KTsKZXhwb3J0IGRlZmF1bHQgaHR0cDs="},{"version":3,"sources":["E:/WebstormProjects/server/views/src/util/http/axios.js"],"names":["axios","router","http","create","baseURL","timeout","interceptors","request","use","config","headers","Authorization","sessionStorage","getItem","err","response","res","data","code","push"],"mappings":"AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,MAAP,MAAmB,cAAnB,C,CAEA;;AACA,IAAMC,IAAI,GAAGF,KAAK,CAACG,MAAN,CAAa;AACtBC,EAAAA,OAAO,EAAE,uBADa;AACY;AAClCC,EAAAA,OAAO,EAAE;AAFa,CAAb,CAAb,C,CAKA;;AACAH,IAAI,CAACI,YAAL,CAAkBC,OAAlB,CAA0BC,GAA1B,CAA8B,UAAUC,MAAV,EAAkB;AAC5CA,EAAAA,MAAM,CAACC,OAAP,GAAiB;AACb,oBAAgB;AADH,GAAjB;AAGAD,EAAAA,MAAM,CAACC,OAAP,CAAeC,aAAf,GAA+BC,cAAc,CAACC,OAAf,CAAuB,OAAvB,CAA/B;AACA,SAAOJ,MAAP;AACH,CAND,EAMG,UAAAK,GAAG,EAAG;AACL,SAAOA,GAAP;AACH,CARD;AAWAZ,IAAI,CAACI,YAAL,CAAkBS,QAAlB,CAA2BP,GAA3B,CAA+B,UAAAQ,GAAG,EAAI;AAClC,MAAIA,GAAG,CAACC,IAAJ,CAASC,IAAT,KAAkB,CAAtB,EAAyB;AACrBjB,IAAAA,MAAM,CAACkB,IAAP,CAAY,QAAZ;AACH;;AACD,SAAOH,GAAP;AACH,CALD,EAKG,UAAAF,GAAG,EAAI;AACN;AACA,SAAOA,GAAP;AACH,CARD;AAWA,eAAeZ,IAAf","sourcesContent":["import axios from 'axios'\r\nimport router from \"../../router\";\r\n\r\n//所有请求的携带的参数设置\r\nconst http = axios.create({\r\n    baseURL: 'http://localhost:3000', //测试服\r\n    timeout: 2000,\r\n})\r\n\r\n//设置拦截器\r\nhttp.interceptors.request.use(function (config) {\r\n    config.headers = {\r\n        'content-type': 'application/json',\r\n    }\r\n    config.headers.Authorization = sessionStorage.getItem('token')\r\n    return config\r\n}, err=> {\r\n    return err\r\n})\r\n\r\n\r\nhttp.interceptors.response.use(res => {\r\n    if (res.data.code === 0) {\r\n        router.push('/login')\r\n    }\r\n    return res\r\n}, err => {\r\n    //对响应数据error处理\r\n    return err\r\n})\r\n\r\n\r\nexport default http"]}]}